{% extends "base.html" %}  

{% block content %} 
<div class="navigation-container">
    {% include 'navigation.html' %}
    </div>
<div class="faq-container">
    <h1>Frequently Asked Questions</h1>

    {% for faq in faqs %}
    <div class="faq-item">
        <div class="faq-question">{{ faq.question }}</div>
        <div class="faq-answer">
            <p>{{ faq.answer }}</p>
        </div>
    </div>
    {% empty %}
    <p>No questions available at the moment.</p>
    {% endfor %}
</div>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        console.log("DOM fully loaded and parsed");
        
        const questions = document.querySelectorAll('.faq-question');
        console.log(`Found ${questions.length} questions.`);

        questions.forEach((question, index) => {
            console.log(`Attaching click event to question ${index + 1}`);
            question.addEventListener('click', () => {
                console.log(`Question ${index + 1} clicked:`, question.textContent.trim());
                question.classList.toggle('active');
                
                const answer = question.nextElementSibling;
                if (answer) {
                    answer.classList.toggle('show');
                    console.log(`Answer visibility toggled for question ${index + 1}`);
                } else {
                    console.warn(`No answer found for question ${index + 1}`);
                }
            });
        });
    });
</script>

{% endblock %}
