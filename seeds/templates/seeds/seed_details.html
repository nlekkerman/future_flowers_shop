{% extends "base.html" %}

{% block title %}
Seed Details
{% endblock %}
{% load static %}

{% block content %}
<!-- Navigation copied from home.html -->
<div class="navigation-container">
    {% include 'navigation.html' %}

</div>
<div class="container" style="background-image: url('{% if seed.image %}{{ seed.image.url }}{% else %}/static/default_image.jpg{% endif %}'); background-size: cover;">
    <h1>{{ seed.name }}</h1>
    <button class="close-button" onclick="window.history.back();">back</button>
    <p><strong>Scientific Name:</strong> {{ seed.scientific_name }}</p>
    <p><strong>Description:</strong> {{ seed.description }}</p>
    <p><strong>Planting Months:</strong> {{ seed.planting_months_from }} to {{ seed.planting_months_to }}</p>
    <p><strong>Flowering Months:</strong> {{ seed.flowering_months_from }} to {{ seed.flowering_months_to }}</p>
    <p><strong>Sun Preference:</strong> {{ seed.sun_preference }}</p>
    <p><strong>Price:</strong> ${{ seed.price }}</p>
    {% if seed.has_discount %}
        <p><strong>Discount:</strong> {{ seed.discount }}%</p>
        <p><strong>Discounted Price:</strong> ${{ seed.calculate_discounted_price }}</p>
    {% endif %}
    <p><strong>In Stock:</strong> {{ seed.in_stock }}</p>
    <div class="card-footer text-center">
        <form method="post" action="{% url 'add_to_cart' seed.id %}">
            {% csrf_token %}
            <button type="submit" class="btn btn-primary" 
                    {% if seed.in_stock == 0 %}disabled{% endif %}>
                {% if seed.in_stock == 0 %}
                    Out of Stock
                {% else %}
                    Add to Cart
                {% endif %}
            </button>
        </form>
    </div>
</div>



{% endblock %}
