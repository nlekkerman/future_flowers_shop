{% extends "base.html" %}
{% load static %}

{% block title %}Admin Dashboard{% endblock %}

{% block content %}
<link rel="stylesheet" href="{% static 'css/admin_dashboard.css' %}">

<div class="admin-dashboard-container">
    <div class="admin-dashboard-header">
        <h2>Admin Dashboard</h2>
    </div>
    <div class="navigation-container">
        {% include 'navigation.html' %}
    </div>
  

    <section>
        <div class="admin-dashboard-section-title">
            <h3>Pending Reviews</h3>
        </div>
        <table class="admin-dashboard-table">
            <thead>
                <tr>
                    <th>User</th>
                    <th>Content</th>
                    <th>Created At</th>
                    <th>Updated At</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                {% for review in pending_reviews %}
                <tr>
                    <td>{{ review.user.username }}</td>
                    <td>{{ review.comment }}</td>
                    <td>{{ review.created_at }}</td>
                    <td>{{ review.updated_at }}</td>
                    <td>
                        <a href="{% url 'approve_review' review.id %}">Approve</a>
                        <a href="{% url 'reject_review' review.id %}">Reject</a>
                        <a href="{% url 'delete_review' review.id %}"
                            onclick="return confirm('Are you sure?');">Delete</a>
                    </td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="5" class="admin-dashboard-no-data">No pending reviews.</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </section>

    <section>
        <div class="admin-dashboard-section-title">
            <h3>Pending Comments</h3>
        </div>
        <table class="admin-dashboard-table">
            <thead>
                <tr>
                    <th>User</th>
                    <th>Content</th>
                    <th>Created At</th>
                    <th>Updated At</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                {% for comment in pending_comments %}
                <tr>
                    <td>{{ comment.user.username }}</td>
                    <td>{{ comment.text }}</td>
                    <td>{{ comment.created_at }}</td>
                    <td>{{ comment.updated_at }}</td>
                    <td>
                        <a href="{% url 'approve_comment' comment.id %}">Approve</a>
                        <a href="{% url 'reject_comment' comment.id %}">Reject</a>
                        <a href="{% url 'delete_comment' comment.id %}"
                            onclick="return confirm('Are you sure?');">Delete</a>
                    </td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="5" class="admin-dashboard-no-data">No pending comments.</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </section>
</div>
{% endblock %}